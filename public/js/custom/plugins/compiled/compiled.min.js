/**
 * Created by Asan on 5/4/2017.
 */
function removeData(b,d){swal({title:"Bu fayl\u0131 silm\u0259y\u0259 raz\u0131s\u0131n\u0131z ?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"T\u0259sdiq",cancelButtonText:"\u0130mtina",closeOnConfirm:!1},function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});$.ajax({url:d,type:"DELETE",success:function(a){200==a&&(b.closest("tr").hide("fast"),swal("Silindi","","success"))}})})}
function postForm(b,d){if(b.valid()){b.closest(".modal");var a=b.attr("method"),h=b.attr("action"),c=b.serialize();var e=b.closest(".modal").prev().find("tbody");var g=b.closest(".modal").prev().find(".load-more-container");loader_start($(".loader_panel"));$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});$.ajax({url:h,type:a,data:c,success:function(a){console.log(a);if(201==a.code){loader_stop($(".loader_panel"));$(".modal").each(function(){$(this).modal("hide")});
    var c=g.attr("id");var b=e.find("tr").last().find("td").first().text();return eval("row_generator")(c,a.body.data,b,"add",e)}if(200==a.code)return loader_stop($(".loader_panel")),$(".modal").each(function(){$(this).modal("hide")}),c=g.attr("id"),e=$("tr#"+a.data.id),console.log(e.html()),b=e.find("td").first().text(),eval("row_generator")(c,a.data,b,"edit",e)},error:function(a){}})}}
function editData(b,d){if(""!=b&&"undefined"!=b&&""!=d&&"undefined"!=d)$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:b,type:"GET",success:function(a){if(200==a.code){$("#"+d).modal("show");var b=document.getElementById(d+"_form");b.removeAttribute("action");b.removeAttribute("data-id");b.setAttribute("data-id",a.id);b.setAttribute("action",a.url);$("#"+d+"_form").append('<input name="_method" type="hidden" value="PUT">');keys=Object.keys(a.fields);
    for(var c in keys)"undefined"==typeof a.fields[keys[c]].id?($("#"+d).find('[name="'+keys[c]+'"]').val(a.fields[keys[c]]),$("#"+d).find('input[type="radio"]').each(function(){$(this).val()==a.fields[keys[c]]&&$(this).prop("checked",!0)}),$("#"+d).find('input[type="checkbox"]').each(function(){$(this).prop("name")==keys[c]&&1==a.fields[keys[c]]&&$(this).prop("checked",!0)})):(b=$("#"+d).find('select[name="'+keys[c]+'"]'),$("<option></option>").attr("selected",!0).text(a.fields[keys[c]].text).val(a.fields[keys[c]].id).appendTo(b),
        b.trigger("change"))}},error:function(){throw Error("Something went wrong!");}});else throw Error("URL is required , Modal Id is required");}
$(document).on("hidden.bs.modal",".modal",function(b){$("#"+$(this).attr("id")+"_form input").each(function(){"_token"!=$(this).prop("name")&&$(this).val("")});$(this).find("input[type=checkbox]").prop("checked","");$(this).find("textarea").val("");"undefined"!==typeof $(this).find(".select").val()&&$(this).find(".select").select2("val"," ");$(this).find(".modal_form").attr("data-id","");b=document.getElementById($(this).attr("id")+"_form").getAttribute("data-url");$(this).find(".modal_form").attr("action",
    b);$(this).find(".modal_form").find('input[name="_method"]').remove()});
(function(b,d,a){a.fn.selectObj=function(b,c){var e=a("#"+b);var d=e.closest(".modal").prop("id")?e.closest(".modal").prop("id"):!1;var f=e.data("url");c&&(f=c);f={ajax:{url:f,dataType:"json",delay:250,data:function(a){return{q:a.term,page:a.page}},processResults:function(a,b){b.page=b.page||1;return{results:a}},cache:!0},placeholder:"Se\u00e7ilm\u0259yib",width:"100%",escapeMarkup:function(a){return a}};0!=d&&(f.dropdownParent=a("#"+d));e.select2(f)}})(document,window,jQuery);
(function(b,d,a){a.fn.pagination=function(b,c,d,g){var e=a("#"+c+"_filter").val();"load"==b?a.getScript("/js/custom/plugins/pagination/load-pagination.js").done(function(b,f){a("#"+c).loginate(c,e,d,g)}).fail(function(a,b,c){throw Error("Error in loading Javascript file. Error - exception : "+c);}):"numeric"==b&&a.getScript("/js/custom/plugins/pagination/numeric-pagination.js").done(function(b,d){a("#"+c).numeric(c,e,g)}).fail(function(a,b,c){throw Error("Error in loading Javascript file. Error - exception : "+
    c);})}})(document,window,jQuery);
(function(b,d,a){a.fn.search=function(d,c,e,g){var f=!0,k,m,n,h=a("#"+c).data("url"),r=b.getElementById(c),l="undefined"==typeof g?a("#"+c).prev("table").find("tbody"):g,p=!1,q;e&&Array.isArray(e)&&0!=e.length&&a.getScript("/js/custom/plugins/field.js").done(function(){fields(d,e);p=!0}).fail(function(a,b,c){throw Error("Error in loading Javascript file. Error - exception : "+c);});a("#"+d).on("keyup",function(e){t(function(){n=c+"_filter";m=a("#"+n).val();k=a("#"+d).val();1==p&&(q=a("#"+d).closest(".search-container").find("select").val());
    1==f&&(f=!1,a(".search-loader").show(),a.ajaxSetup({headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")}}),a.ajax({url:h+"?page=1&search="+k+"&field="+q+"&limit="+m,type:"GET",success:function(a){if(200!=a.code||Array.isArray(a.data.entities))a=l.prev().find("tr").find("th").length,l.html('<td colspan="'+a+'"><div class="alert alert-warning text-center" role="alert"><strong>"'+k+'" </strong> &mdash; uy\u011fun m\u0259lumat tap\u0131lmad\u0131 !</div></td>');else return r.setAttribute("data-page",
        1),eval("row_generator")(c,a,0,!0,l)}}),a(b).ajaxComplete(function(){f=!0;a(".search-loader").hide()}))},250)});var t=function(){var a=0;return function(b,c){clearTimeout(a);a=setTimeout(b,c)}}()}})(document,window,jQuery);
