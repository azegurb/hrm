/**
 * Created by Asan on 5/4/2017.
 */
(function(c,d){if("function"===typeof define&&define.amd)define("/Plugin/dropify",["exports","Plugin"],d);else if("undefined"!==typeof exports)d(exports,require("Plugin"));else{var b={};d(b,c.Plugin);c.PluginDropify=b}})(this,function(c,d){Object.defineProperty(c,"__esModule",{value:!0});var b=babelHelpers.interopRequireDefault(d),e=function(b){function d(){babelHelpers.classCallCheck(this,d);return babelHelpers.possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}
    babelHelpers.inherits(d,b);babelHelpers.createClass(d,[{key:"getName",value:function(){return"dropify"}}],[{key:"getDefaults",value:function(){return{}}}]);return d}(b["default"]);b["default"].register("dropify",e);c["default"]=e});
(function(c,d,b){b.fn.uploaderC=function(e){var f="#"+e,g="#"+b(f).find("input").prop("id");e=b(f).find(".file-wrap").find("div");var h=d.Site;b(c).ready(function(a){h.run()});b(f).fileupload({url:"../../server/fileupload/",dropzone:b(f),filesContainer:e,uploadTemplateId:!1,downloadTemplateId:!1,uploadTemplate:tmpl('{% for (var i=0, file; file=o.files[i]; i++) { %}<div class="file-item-wrap template-upload fade col-lg-3 col-md-4 col-sm-6 {%=file.type.search("image") !== -1? "image" : "other-file"%}"><div class="file-item"><div class="preview vertical-align"><div class="file-action-wrap"><div class="file-action">{% if (!i && !o.options.autoUpload) { %}<i class="icon md-upload start" data-toggle="tooltip" data-original-title="Upload file" aria-hidden="true"></i>{% } %}{% if (!i) { %}<i class="icon md-close cancel" data-toggle="tooltip" data-original-title="Stop upload file" aria-hidden="true"></i>{% } %}</div></div></div><div class="info-wrap"><div class="title">{%=file.name%}</div></div><div class="progress progress-striped active" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" role="progressbar"><div class="progress-bar progress-bar-success" style="width:0%;"></div></div></div></div>{% } %}'),
    downloadTemplate:tmpl('{% for (var i=0, file; file=o.files[i]; i++) { %}<div class="file-item-wrap template-download fade col-lg-2 col-md-4 col-sm-6 {%=file.type.search("image") !== -1? "image" : "other-file"%}"><div class="file-item"><div class="preview vertical-align"><div class="file-action-wrap"><div class="file-action"><i class="icon md-delete delete" data-toggle="tooltip" data-original-title="Delete files" aria-hidden="true"></i></div></div><img src="{%=file.url%}"/></div><div class="info-wrap"><div class="title">{%=file.name%}</div></div></div></div>{% } %}'),
    forceResize:!0,previewCanvas:!1,previewMaxWidth:!1,previewMaxHeight:!1,previewThumbnail:!1}).on("fileuploadprocessalways",function(a,b){for(var d=b.files.length,c=0;c<d;c++)b.files[c].type.match(/^image\/(gif|jpeg|png|svg\+xml)$/)?b.files[c].filetype="image":b.files[c].filetype="other-file"}).on("fileuploadadded",function(a){a=b(a.target);0<a.find(".file-item-wrap").length?a.addClass("has-file"):a.removeClass("has-file")}).on("fileuploadfinished",function(a){a=b(a.target);0<a.find(".file-item-wrap").length?
    a.addClass("has-file"):a.removeClass("has-file")}).on("fileuploaddestroyed",function(a){a=b(a.target);0<a.find(".file-item-wrap").length?a.addClass("has-file"):a.removeClass("has-file")}).on("click",function(a){0===b(a.target).parents(".file-item-wrap").length&&b(g).trigger("click")});b(c).bind("dragover",function(a){var c=b(f),e=d.dropZoneTimeout;e?clearTimeout(e):c.addClass("in");e=!1;a=a.target;do{if(a===c[0]){e=!0;break}a=a.parentNode}while(null!==a);e?c.addClass("hover"):c.removeClass("hover");
    d.dropZoneTimeout=setTimeout(function(){d.dropZoneTimeout=null;c.removeClass("in hover")},100)});b(g).on("click",function(a){a.stopPropagation()});b("#uploadlink").on("click",function(a){a.stopPropagation()})}})(document,window,jQuery);
